#!/usr/bin/env ruby
# encoding: utf-8

require_relative 'utils/setup.rb'

mapper = build_mapper do
  attribute :name, from: 'name'
  attribute :email, from: 'email'
end

tuples = create_tuple_collection(100) do
  {
    'name' => Faker::Name.name,
    'email' => Faker::Internet.email
  }
end

run('rename_keys') do |x|
  x.report { mapper.call(tuples) }
end
