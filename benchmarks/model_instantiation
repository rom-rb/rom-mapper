#!/usr/bin/env ruby
# encoding: utf-8

require_relative 'utils/setup.rb'

user_model = Class.new(OpenStruct)

mapper = build_mapper do
  attribute :name
  attribute :email
  model user_model
end

tuples = create_tuple_collection(100) do
  {
    name: Faker::Name.name,
    email: Faker::Internet.email
  }
end

run('model_instantiation') do |x|
  x.report { mapper.call(tuples) }
end
